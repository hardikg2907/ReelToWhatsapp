(()=>{"use strict";function e(e,t){const n=document.querySelector(`[title="${e}"]`);if(n){const e=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window});n.dispatchEvent(e),setTimeout((()=>{let e=document.querySelectorAll("[contenteditable='true']");e=e[e.length-1],e&&(e.focus(),document.execCommand("insertText",!1,t),setTimeout((()=>{const e=document.querySelector("span[data-icon='send']");e&&e.click()}),500))}),2e3)}else console.log("Target chat not found!")}function t(e){const t=document.querySelectorAll("[contenteditable='true']");t=t[t.length-1],t&&(t.focus(),document.execCommand("insertText",!1,e),setTimeout((()=>{const e=document.querySelector("span[data-icon='send']");e&&e.click()}),500))}chrome.runtime.onMessage.addListener(((n,c,o)=>{if("SHARE_REEL"===n.type){const c=n.payload.reelLink;chrome.storage.local.get(["targetChat","targetNumber"],(n=>{const s=n.targetChat,a=n.targetNumber;return chrome.tabs.query({url:"https://web.whatsapp.com/*"},(n=>{if(n.length>0){let t=n[0];chrome.scripting.executeScript({target:{tabId:t.id},func:e,args:[s,c]}).then((()=>{o({status:"Navigated to chat and reel link sent!"})}))}else chrome.tabs.create({url:`https://web.whatsapp.com/send?phone=${a}`},(e=>{chrome.scripting.executeScript({target:{tabId:e.id},func:t,args:[c]}).then((()=>{o({status:"Reel link sent to WhatsApp!"})}))}))})),!0}))}}))})();
//# sourceMappingURL=background.js.map